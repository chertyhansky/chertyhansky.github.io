<!DOCTYPE html>
<html lang="ru">

    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><title>Как избавиться от мышей &ndash; Костыль и велосипед</title>
<meta name="description" content="...семь бед - один ответ!">

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8"/>



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.4/css/academicons.min.css" integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />


<link rel="stylesheet" href="//localhost:1313/css/palettes/base16-dark.css">
<link rel="stylesheet" href="//localhost:1313/css/risotto.css">
<link rel="stylesheet" href="//localhost:1313/css/custom.css">


<link rel="icon" href="//localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="//localhost:1313/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="//localhost:1313/favicon-16x16.png">
<link rel="apple-touch-icon" href="//localhost:1313/apple-touch-icon.png">
<link rel="manifest" href="//localhost:1313/site.webmanifest">



</head>

    <body>
        <div class="page">

            <header class="page__header"><nav class="page__nav main-nav">
    <ul>
      <li class="nomarker"><h1 class="page__logo"><a href="//localhost:1313/" class="page__logo-inner">Костыль и велосипед</a></h1></li>
    
    
    <li class="main-nav__item"><a class="nav-main-item" href="//localhost:1313/about/" title="">About</a></li>
    
    <li class="main-nav__item"><a class="nav-main-item" href="//localhost:1313/categories/" title="">Categories</a></li>
    
    <li class="main-nav__item"><a class="nav-main-item" href="//localhost:1313/tags/" title="">Tags</a></li>
    
    <li class="main-nav__item"><a class="nav-main-item" href="//localhost:1313/post/" title="">Posts</a></li>
    
    </ul>
</nav>

</header>

            <section class="page__body">
    <header class="content__header">
        <h1>Как избавиться от мышей</h1>
    </header>
    <div class="content__body">
        <h2 id="преамбула">Преамбула</h2>
<p>Здрассьте.</p>
<p>Так уж сложилось, что не люблю я девайс под названием «мышь».
Нет, оно годится чтобы чертить чертёжики, подправить фотографию в гимпе, и т.п..
Но вот для управления интерфейсом — это чистой воды маразм.
Пример — тот же браузер.  Как это работает у большинства юзеров: тыкнул мышкой иконку браузера, тыкнул в адресную строку, схватился за клавиатуру, набрал адрес поисковика, схватил мышь, тыкнул в строку поиска, схватил клавиатуру, набрал запрос, опять мышь, чтобы тыкнуть в ссылку.
И вот так постоянно. Плюс, мышь требует координации. Нельзя неглядя ткнуть мышью кнопку.
Курсор мыши надо сначала «поймать» глазами, потом навести и ткнуть. Тогда как хоткей нажимается мнговенно (ну, почти).
В итоге имеем тот факт, что 50% полезного времени уходит на хватание мыши и поиск курсора, хватание клавиатуры и поиск буковок, и так по кругу.
Вроде как в *nix изначально изначально мышь позиционировалась как устройство выделения/копирования/вставки, но в какой-то момент они свернули не туда, и теперь мы имеем gnome, kde и прочее, где без мыши не сделать почти ничего.
В некоторых программах, например, даже в меню ни попасть никак, кроме как мышью.
Уже лет эдак 15 я с этим делом пытаюсь бороться с переменным успехом.
Наверное, ничего нового я здесь не открою, но постараюсь собрать в одном месте всё, чем пользуюсь.
Это пока что будет вроде как вводная обзорная статейка, позже пройдусь по более конкретным вещам.
Для начала разберёмся&hellip;</p>
<h2 id="а-как-оно-надо">А как оно надо?</h2>
<p>Очевидно, надо для задач управления оставить <strong>одно</strong> устройство.
Не менее очевидно, что это будет <strong>клавиатура</strong>.
Для тех, кто ещё не согласен - попробуйте потыкать в сенсорную магнитолу, находясь за рулём.
Это надо отвлекаться от дороги и смотреть в экран - сенсорные кнопки наощупь не потыкаешь, как и экранные кнопки мышью.
Кстати, как раз поэтому как минимум громкость, как самую часто тыкаемую, на них делают аппаратными кнопками или крутилкой.</p>
<p>Итак, возвращаясь к исходной теме&hellip;</p>
<h3 id="начнём-с-display-manager">Начнём с display manager</h3>
<p>Он же login manager, он же <em>&ldquo;менеджер входа в систему&rdquo;</em> (ох уж этот транслейтинг междумордия).
Я уж не знаю что там сейчас в моде, но судя по скриншотам, которые встречаются в этих ваших интернетах, что-то навороченное, которое показывает картинки с пользователями, в которые надо тыкать мышью или неочевидным образом перебирать табом и курсором, выбирать запускаемый WM, и прочие излишества&hellip;</p>
<p><strong>Фтопку!</strong>
Нам нужен <a href="https://github.com/iwamatsu/slim">slim</a>. В репозиториях всех дистрибутивов он обычно есть.
На экране только поля ввода <em>&ldquo;user&rdquo;</em> и <em>&ldquo;password&rdquo;</em>.
После ввода пароля запускается то, что прописано в <code>~/.xinitrc</code>. Всё!
Все настройки в файле <code>/etc/slim.conf</code>.
Из полезного - можно поменять оформление, параметры <code>default_user</code> и <code>focus_password</code> на случай если юзер всего один - останется ввести только пароль.
Можно даже настроить автологин и не вводить ничего.
В комплекте есть ещё slimlock - утилитка для блокировки экрана.
Выглядит как тот же slim, просит пароль от текущего юзера.
Можно навесить на хоткей и нажимать по необходимости.
Полезно, если по клавиатуре могут ходить дети, коты, собаки (ну или если жена любит читать переписки).</p>
<h3 id="дальше-видим-wm">Дальше видим WM</h3>
<p>Он же window manager.
Не знаю что там сейчас в моде, подозреваю, что gnome/kde/xfce.
В котором, чтобы что-то запустить, надо проделать все вышеописанные манипуляции с мышью и менюшками.
Не сомневаюсь, что и в них есть какая-то поддержка хоткеев, но поскольку это всё ориентированно на юзера обыкновенного, то <em>ффтопку</em>!</p>
<p>Я, например, вижу <a href="https://notionwm.net/">notion</a>, который раньше был ion3.
Перепробовал большую часть тайловых, но ничего лучше не нашёл.
Сижу на нём уже лет 13-15 и никуда не собираюсь.
Про него было написано много (про ion3 в основном, но это всё применимо и к notion).
Сейчас это всё, к сожалению, частично кануло в небытие, поэтому, возможно, статью по конфигурянию его как-нибудь тоже изображу на досуге.
Ещё есть awesome, i3wm, wmii, dwm, ratpoison, xmonad и куча других, которыми я либо пользовался мало, либо не пользовался совсем.
У notion есть несколько плюсов, которых я не нашёл у других wm.
В первую очередь, это статический тайлинг с возможностью настроить привязку приложений к своим заранее созданным фреймам. Конфигурация фреймов сохраняется.
Скрэтчпады (это всплывающий по хоткею фрейм) и иерархическая структура. Например, внутри скрэтчпада можно создать несколько фреймов и разместить их как угодно.
Теоретически можно даже создать отдельный workspace внутри скрэтчпада и разместить в нём ещё один скрэтчпад или парочку плавающих окон.
Не знаю зачем такое может понадобиться, но можно.</p>
<p>Поведение самих окон тоже настраивается. Какие-то можно сделать плавающими.
Например, я плавающими делаю диалоговые окна, потому что по дефолту для них включен transient mode, при этом они растягиваются на всю ширину окна, а при высоком разрешении это не очень удобно.
Ну и плюс, размеры и расположение плавающих окон он тоже умеет запоминать, что удобно.
А ещё notion нормально работает с двумя мониторами.
Ну т.е. так, как надо <strong>мне</strong> - на каждый монитор можно переключиться своим хоткеем, и на каждом можно создать свою конфигурацию фреймов и десктопов.
Возможно всё перечисленное умеет ещё и xmonad, но я его не особо ковырял, ибо лень, да и зачем, когда уже незачем?</p>
<p>Можно создать конфигурацию фреймов и привязать к ним какое-то многооконное приложение. Было когда-то актуально для gimp, у которого было 3 окна, сейчас - hydrogen, у которого микшер в отдельном окне.
Да и в целом любое окно можно привязать к десктопу, фрейму, скрэтчпаду, и оно всегда будет открываться там.
Для примера, у меня при старте запускаются whatsapp и telegram, которые автоматом раскладываются по скрэтчпадам и показываются/прячутся по хоткею.</p>
<h3 id="приложения">Приложения</h3>
<p>Правильно настроенный <a href="https://www.zsh.org/">zsh</a> (можно и bash, но у меня исторически сложился zsh) заменяет файловый манагер.
Ну ладно, <a href="https://midnight-commander.org/">mc</a> тоже есть, иногда пользуюсь.
В основном когда надо видеть две панели и туда-сюда между ними что-то копировать/перемещать.
В качестве терминала - <a href="http://software.schmorp.de/pkg/rxvt-unicode.html">urxvtd+urxvtc</a>.
Потому что их может быть открыто десятка два, а демон и клиенты как-то поэкономнее жрут ресурсы.
Естественно, <a href="https://www.vim.org/">vim</a>, куда ж без него.
Полезная утилитка <a href="https://hluk.github.io/CopyQ/">copyq</a> - история буфера обмена.
Браузер - <a href="https://www.qutebrowser.org/">qutebrowser</a>. Относительно лёгкий, полностью управляется с клавиатуры. Немного не хватает в нём блокировки рекламы, в остальном жить можно. Хотя написан на python, и памяти ест с каждой версией всё больше.
В последнее время перешёл на <a href="https://www.chromium.org/">chromium</a>+<a href="https://github.com/gdh1995/vimium-c">vimium-c</a>. Возможно, временно.
Про firefox скромно промолчу, хотя там этот плагин тоже был. Но ждать минуту пока оно запустится и ещё столько же, пока прогрузит десяток последних открытых вкладок, наблюдая при этом, как столбик использования памяти в conky уверенно приближается к 8 GB — это для ценителей.
Есть ещё <a href="https://www.uzbl.org/">uzbl</a>, <a href="https://github.com/fanglingsu/vimb">vimb</a>, <a href="https://luakit.github.io/">luakit</a> и другие, но у них мне чего-то не хватало, уже не помню чего именно.
Всё это унаследовало идею плагина <a href="https://vimperator.org/">vimperator</a>, но со своими особенностями и разной степенью настраиваемости.</p>
<p>Ещё из используемого - zathura (смотрелка ps/pdf/djvu), mutt (почта), mpd+ncmpcpp (музыка), mpv (видео), imv (картинки) и ещё что-то, с ходу не помню.
Общий принцип - <em>чем больше интерфейса, тем больше не надо</em>.
В идеале это commandline или curses.
По той простой причине, что там изначально заложено управление клавиатурой и не надо ничего изобретать.
В основном всё перечисленное - inspired by vim, т.е. hjkl вместо курсора и вот это вот всё.
Соответственно, по запросу <em>vim-like</em> можно нагуглить много чего ещё.
Конечно, приходится иметь дело и с традиционными gui, где приходится тыкать мышью, но по большей части это те, где мышь нужна и для работы с самим приложением - чертежи в qcad, фото в gimp, видео в shotcut, музыку в ardour, и т.п..
<a href="https://www.tuxguitar.app/">Tuxguitar</a>, к слову, я почти облепил своими хоткеями, поэтому с ним можно обращаться одной клавиатурой.</p>
<p>Ну а в тех случаях, когда таки нужно тыкнуть мышью в злосчастную кнопку, до которой не добраться тыкая <code>Tab</code>, или ссылку в chromium, для которой vimium не отрисовывает hint&hellip; Спасает <a href="https://ru.wikipedia.org/wiki/%D0%A2%D0%B5%D0%BD%D0%B7%D0%BE%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D0%B4%D0%B6%D0%BE%D0%B9%D1%81%D1%82%D0%B8%D0%BA">trackpoint</a> (храни будда инженеров IBM, которые его придумали, и китайцев, которые до сих пор делают ThinkPad. Алюминь!). Раньше спасал <a href="https://www.semicomplete.com/projects/keynav/">keynav</a>, вполне можно жить, если приноровиться.</p>
<h3 id="менюшки-и-хоткеи">Менюшки и хоткеи</h3>
<p>Так, а как же это всё запускать, если нет ни менюшек, ни значков?
Ну, во первых - хоткеи.
На клавиатурах сейчас бывает тьма дополнительных кнопок, на которые можно навесить всё, что душе угодно.
Плюс, хоткеи вида <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>G</kbd>.
Можно было бы использовать <kbd>Meta</kbd> (это обычно кнопка с кривым окошком), но в notion все сочетания <kbd>Meta</kbd>+<kbd>буква</kbd> уже заняты. <kbd>Alt</kbd>+<kbd>буква</kbd> используются для доступа к меню приложений.</p>
<p>А ещё в notion есть <em>mod_menu</em>, у меня оно назначено на <kbd>Alt</kbd>+<kbd>Space</kbd>.
Он умеет делать менюшки, которые работают как строка ввода с автодополнением. Можно делать их иерархическими.
Для приложений у меня обычно одно-двух-буквенные сокращения.
Например, чтобы запустить chromium, надо нажать <kbd>Alt</kbd>+<kbd>Space</kbd>, ввести <code>ch</code>, нажать <kbd>Enter</kbd>.
Чтобы смонтировать флешку, воткнутую во второй USB-порт - <kbd>Alt</kbd>+<kbd>Space</kbd>, ввести <code>m/2</code>, <kbd>Enter</kbd>.
Об успешном монтировании (или не успешном) выводится сообщение в статусбаре.
Размонтировать - <kbd>Alt</kbd>+<kbd>Space</kbd>, <code>u/2</code>, <kbd>Enter</kbd>.
(Да, флешки я монтирую вручную, ибо тут вам не винды, и это вам не это. Если я воткнул флешку - это ещё не значит, что я её собираюсь смотнировать.)</p>
<p>Ну и в довершение всего, запилил себе раскладку клавиатуры с активным использованием level3, в качестве которого назначен <key>AltGr</key>. Там есть и <key>h</key><key>j</key><key>k</key><key>l</key> вместо курсора, и <key>u</key><key>d</key> вместо <key>PgUp</key><key>PgDn</key>, и <key>i</key><key>o</key> вместо <key>Home</key><key>End</key>, и т.д. Ну и дополнительные буквы из украинского, белорусского и казахского языков.</p>
<p><img src="/images/2024.10.29-23:17:04.png" alt="Скриншот"></p>
<p>Здесь виднеется раскладка клавиатуры в vim, ncmpcpp и conky, просто для красоты.</p>
<p>Засим на сегодня откланиваюсь.</p>

    </div>
    <footer class="content__footer"></footer>

            </section>

            <section class="page__aside">
                <div class="aside__about">
<div class="aside__about">
    
    <img class="about__logo" src="//localhost:1313/icon.svg" alt="Logo">
<h1 class="about__title">Костыль и велосипед</h1>
<p class="about__description">&hellip;семь бед - один ответ!</p>
</div>


<ul class="aside__social-links">
    
    <li>
        <a href="https://github.com/chertyhansky" rel="me" aria-label="GitHub" title="GitHub"><i class="fa-brands fa-github" aria-hidden="true"></i></a>&nbsp;
    </li>
    
    <li>
        <a href="mailto:chertyhansky@yandex.ru" rel="me" aria-label="Email" title="Email"><i class="fa-solid fa-envelope" aria-hidden="true"></i></a>&nbsp;
    </li>
    
</ul>
</div>
                <hr>
                <div class="aside__content">
    <p>Избавляемся от компьютерной мыши</p>
    
        <p>
            By Akaky Chertyhansky, 
            2024-10-29
        </p>
    

    

                </div>
            </section>

            <footer class="page__footer"><p>
    
    
    
    
    
    
      
    
      
    
      
    
      
    
    
    
      
      
          
            
            
                <br/><span class="active">$ echo $LANG<br/><b></b></span><br/>

            
          
      
    
</p>
<br /><br />
<p class="copyright">© Akaky Chertyhansky</p>
<p class="advertisement">Powered by <a href="https://gohugo.io/">hugo</a> and <a href="https://github.com/joeroe/risotto">risotto</a>.</p>
</footer>

        </div>
    </body>

</html>
